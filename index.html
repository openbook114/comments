<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
    <link rel="stylesheet" href="assets/agile/css/agile.layout.css">
    <link rel="stylesheet" href="assets/third/seedsui/plugin/seedsui/seedsui.min.css">
    <meta name="format-detection" content="telephone=no"/>
    <meta name="format-detection" content="email=no"/>
    <title>评论</title>
    <!--[if lt IE 8]    <link rel="stylesheet" type="text/css" href="./style.css"/>
>
    <script src="./json3.min.js"></script><![endif]-->
    <script src="socket.io.js"></script>
</head>
<body>
<div id="loginbox">
    <div style="width:260px;margin:200px auto;">
        请先输入你在聊天室的昵称
        <br/>
        <br/>
        <input type="text" style="width:180px;" placeholder="请输入用户名" id="username" name="username"/>
        <input type="button" style="width:50px;" value="提交" onclick="CHAT.usernameSubmit();"/>
    </div>
</div>
<div id="chatbox" style="display:none;">
    <div id="section_container">
        <section id="index_section" class="active" data-role="section">
            <header>
                <div class="titlebar">
                    <div id="onlinecount"></div>
                </div>
            </header>
            <article data-role="article" id="index_article" class="active" style="top:44px;bottom:35px;" data-scroll="verticle">
                <div class="scroller">
                    <details open>
                        <ul class="list" id="message">
                            <li>
                                <div class="justify-content">
                                    <p>Welcome</p>
                                    <small>欢迎您参与直播评论。</small>
                                </div>
                            </li>
                        </ul>
                    </details>
                </div>
                <a data-role="scrollTop" data-toggle="scrollTop" href="#index_article" style="bottom:60px;right:4px;">
                    <img src="assets/app/img/top.png" style="border: 1px solid #efefef;"></img>
                </a>
            </article>
            <footer>
                <div class="input-box">
                    <i class="color-placeholder icon icon-earth"></i>
                    <input type="text" placeholder="评论" maxlength="140" name="content"  id="content">
                </div>
            </footer>
        </section>
    </div>
</div>
<script type="text/javascript" src="./client.js"></script>

<!--- third -->
<script type="text/javascript" src="assets/third/jquery/jquery-2.1.3.min.js"></script>
<script type="text/javascript" src="assets/third/jquery/jquery.mobile.custom.min.js"></script>
<script type="text/javascript" src="assets/third/iscroll/iscroll-probe.js"></script>
<script type="text/javascript" src="assets/agile/js/agile.js"></script>
<!--<script type="text/javascript" src="assets/bridge/exmobi.js"></script>-->
<!--<script type="text/javascript" src="assets/bridge/agile.exmobi.js"></script>-->
<!-- app -->
<script type="text/javascript" src="assets/app/js/app.seedsui.js"></script>
<script>
    //当scroll初始化会进入此监听
    $('#index_article').on('scrollInit', function(){
        var scroll = A.Scroll(this);//已经初始化后不会重新初始化，但是可以得到滚动对象
        //监听滚动到顶部事件，可以做一些逻辑操作
        scroll.on('scrollTop', function(){
            A.showToast('滚动到顶部');
            scroll.refresh(); //如果scroll区域dom有改变，需要刷新一下此区域
        });
        //监听滚动到底部事件，可以做一些逻辑操作
        scroll.on('scrollBottom', function(){
            A.showToast('滚动到底部');
            scroll.refresh(); //如果scroll区域dom有改变，需要刷新一下此区域，
        });
    });
</script>
</body>
</html>
